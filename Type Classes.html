<!DOCTYPE HTML>
<html lang="en-US" manifest="./manifest.appcache">
    <head prefix="og: http://ogp.me/ns# book: http://ogp.me/ns/book#">
        
        <meta charset="UTF-8">
        <title>Type Classes | Scala Tour</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="robots" content="index, follow">
        <meta name="author" content="dcapwell">
        <meta name="description" content="My location for adding scala findings">
        <meta name="keywords" content="gitbook,github" >
        <meta name="generator" content="www.gitbook.io">

        
        <link rel="next" href="./Higher Kind.html" />
        
        
        <link rel="prev" href="./F-Bounded Type.html" />
        

        <meta property="og:title" content="Type Classes | Scala Tour">
        <meta property="og:site_name" content="Scala Tour">
        <meta property="og:type" content="book">
        <meta property="og:locale" content="en_US">

        <meta property="book:author" content="https://github.com/dcapwell">
        <meta property="book:tag" content="GitBook">

        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">

        <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">
        
    </head>
    <body>
        

        <link rel="stylesheet" href="gitbook/style.css">
        


        
    <div class="book" data-github="dcapwell/scala-tour" data-level="2.4" data-basepath="." data-revision="1404967423734">
    <div class="book-header">
    <!-- Actions Left -->
    
    <a href="https://github.com/dcapwell/scala-tour" target="_blank" class="btn pull-left"><i class="fa fa-github-alt"></i></a>
    
    <a href="#" class="btn pull-left toggle-summary"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search"><i class="fa fa-search"></i></a>
    <span id="font-settings-wrapper">
        <a href="#" class="btn pull-left toggle-font-settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
	<div class="dropdown-caret">
  <span class="caret-outer"></span>
  <span class="caret-inner"></span>
</div>

	<div class="btn-group btn-block">
		<button id="reduce-font-size" class="btn btn-default">A</button>
		<button id="enlarge-font-size" class="btn btn-default">A</button>
	</div>

	<ul class="list-group font-family-list">
		<li class="list-group-item" data-font="0">Serif</li>
		<li class="list-group-item" data-font="1">Sans</li>
	</ul>

	<div class="btn-group btn-group-xs btn-block color-theme-list">
	  <button type="button" class="btn btn-default" id="color-theme-preview-0" data-theme="0">White</button>
	  <button type="button" class="btn btn-default" id="color-theme-preview-1" data-theme="1">Sepia</button>
	  <button type="button" class="btn btn-default" id="color-theme-preview-2" data-theme="2">Night</button>
	</div>
</div>

    </span>

    <!-- Actions Right -->
    <a href="#" target="_blank" class="btn pull-right" data-sharing="google-plus"><i class="fa fa-google-plus"></i></a>
    <a href="#" target="_blank" class="btn pull-right" data-sharing="facebook"><i class="fa fa-facebook"></i></a>
    <a href="#" target="_blank" class="btn pull-right" data-sharing="twitter"><i class="fa fa-twitter"></i></a>

    
    <a href="https://github.com/dcapwell/scala-tour/stargazers" target="_blank" class="btn pull-right count-star"><i class="fa fa-star-o"></i> Star (<span>-</span>)</a>
    <a href="https://github.com/dcapwell/scala-tour/watchers" target="_blank" class="btn pull-right count-watch"><i class="fa fa-eye"></i> Watch (<span>-</span>)</a>
    

    <!-- Title -->
    <h1>
        <i class="fa fa-spinner fa-spin"></i>
        <a href="./" >Scala Tour</a>
    </h1>
</div>

    <div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Search" class="form-control" />
    </div>
    <ul class="summary">
        
        <li>
            <a href="https://github.com/dcapwell" target="blank">About the author</a>
        </li>
        <li>
            <a href="https://github.com/dcapwell/scala-tour/issues" target="blank">Questions and Issues</a>
        </li>
        <li>
            <a href="https://github.com/dcapwell/scala-tour/edit/master/Type Classes.md" target="blank">Edit and Contribute</a>
        </li>
        <li class="divider"></li>
        
        <li data-level="0" data-path="index.html">
            <a href="./"><i class="fa fa-check"></i> Introduction</a>
        </li>
        
            <li  data-level="1" data-path="Language.html">
                
                <a href="./Language.html">
                    <i class="fa fa-check"></i> <b>1.</b> Language
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="1.1" data-path="Traits.html">
                            
                            <a href="./Traits.html">
                                <i class="fa fa-check"></i> <b>1.1.</b> Traits
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.2" data-path="Partial Function.html">
                            
                            <a href="./Partial Function.html">
                                <i class="fa fa-check"></i> <b>1.2.</b> Partial Function
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="2" data-path="Types.html">
                
                <a href="./Types.html">
                    <i class="fa fa-check"></i> <b>2.</b> Types
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="2.1" data-path="Variance.html">
                            
                            <a href="./Variance.html">
                                <i class="fa fa-check"></i> <b>2.1.</b> Variance
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.2" data-path="Value Classes.html">
                            
                            <a href="./Value Classes.html">
                                <i class="fa fa-check"></i> <b>2.2.</b> Value Classes
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.3" data-path="F-Bounded Type.html">
                            
                            <a href="./F-Bounded Type.html">
                                <i class="fa fa-check"></i> <b>2.3.</b> F-Bounded Type
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.4" data-path="Type Classes.html">
                            
                            <a href="./Type Classes.html">
                                <i class="fa fa-check"></i> <b>2.4.</b> Type Classes
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.5" data-path="Higher Kind.html">
                            
                            <a href="./Higher Kind.html">
                                <i class="fa fa-check"></i> <b>2.5.</b> Higher Kind
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.6" data-path="Path Dependent Types.html">
                            
                            <a href="./Path Dependent Types.html">
                                <i class="fa fa-check"></i> <b>2.6.</b> Path Dependent Types
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.7" data-path="Phantom Type.html">
                            
                            <a href="./Phantom Type.html">
                                <i class="fa fa-check"></i> <b>2.7.</b> Phantom Type
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.8" data-path="Structural Types.html">
                            
                            <a href="./Structural Types.html">
                                <i class="fa fa-check"></i> <b>2.8.</b> Structural Types
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.9" data-path="Union and Intersection types.html">
                            
                            <a href="./Union and Intersection types.html">
                                <i class="fa fa-check"></i> <b>2.9.</b> Union and Intersection types
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="3" data-path="Patterns.html">
                
                <a href="./Patterns.html">
                    <i class="fa fa-check"></i> <b>3.</b> Patterns
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="3.1" data-path="Cake.html">
                            
                            <a href="./Cake.html">
                                <i class="fa fa-check"></i> <b>3.1.</b> Cake
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="4" data-path="Monads and Monoids.html">
                
                <a href="./Monads and Monoids.html">
                    <i class="fa fa-check"></i> <b>4.</b> Monads and Monoids
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="4.1" data-path="Functor.html">
                            
                            <a href="./Functor.html">
                                <i class="fa fa-check"></i> <b>4.1.</b> Functor
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.2" data-path="Applicative Functor.html">
                            
                            <a href="./Applicative Functor.html">
                                <i class="fa fa-check"></i> <b>4.2.</b> Applicative Functor
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="5" data-path="Scalaz.html">
                
                <a href="./Scalaz.html">
                    <i class="fa fa-check"></i> <b>5.</b> Scalaz
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="5.1" data-path="Utils.html">
                            
                            <a href="./Utils.html">
                                <i class="fa fa-check"></i> <b>5.1.</b> Utils
                            </a>
                            
                        </li>
                    
                        <li  data-level="5.2" data-path="Tag Types.html">
                            
                            <a href="./Tag Types.html">
                                <i class="fa fa-check"></i> <b>5.2.</b> Tag Types
                            </a>
                            
                        </li>
                    
                        <li  data-level="5.3" data-path="Memoization.html">
                            
                            <a href="./Memoization.html">
                                <i class="fa fa-check"></i> <b>5.3.</b> Memoization
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="6" data-path="Failure.html">
                
                <a href="./Failure.html">
                    <i class="fa fa-check"></i> <b>6.</b> Failure
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="6.1" data-path="Collections.html">
                            
                            <a href="./Collections.html">
                                <i class="fa fa-check"></i> <b>6.1.</b> Collections
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.2" data-path="Object Init.html">
                            
                            <a href="./Object Init.html">
                                <i class="fa fa-check"></i> <b>6.2.</b> Object Init
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.3" data-path="Implicit.html">
                            
                            <a href="./Implicit.html">
                                <i class="fa fa-check"></i> <b>6.3.</b> Implicit
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="7" data-path="macros/README.html">
                
                <a href="./macros/README.html">
                    <i class="fa fa-check"></i> <b>7.</b> Macros
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="7.1" data-path="macros/macro_types.html">
                            
                            <a href="./macros/macro_types.html">
                                <i class="fa fa-check"></i> <b>7.1.</b> Macro Types
                            </a>
                            
                        </li>
                    
                        <li  data-level="7.2" data-path="macros/macro_basics.html">
                            
                            <a href="./macros/macro_basics.html">
                                <i class="fa fa-check"></i> <b>7.2.</b> Macro Basics
                            </a>
                            
                        </li>
                    
                        <li  data-level="7.3" data-path="macros/context.html">
                            
                            <a href="./macros/context.html">
                                <i class="fa fa-check"></i> <b>7.3.</b> Context
                            </a>
                            
                        </li>
                    
                        <li  data-level="7.4" data-path="macros/fun_with_println.html">
                            
                            <a href="./macros/fun_with_println.html">
                                <i class="fa fa-check"></i> <b>7.4.</b> Fun with println
                            </a>
                            
                        </li>
                    
                        <li  data-level="7.5" data-path="macros/scala_version_differences.html">
                            
                            <a href="./macros/scala_version_differences.html">
                                <i class="fa fa-check"></i> <b>7.5.</b> Scala Version Differences
                            </a>
                            
                        </li>
                    
                        <li  data-level="7.6" data-path="macros/quasiquotes.html">
                            
                            <a href="./macros/quasiquotes.html">
                                <i class="fa fa-check"></i> <b>7.6.</b> Quasiquotes
                            </a>
                            
                        </li>
                    
                        <li  data-level="7.7" data-path="macros/trees.html">
                            
                            <a href="./macros/trees.html">
                                <i class="fa fa-check"></i> <b>7.7.</b> Trees
                            </a>
                            
                        </li>
                    
                        <li  data-level="7.8" data-path="macros/tree_lens.html">
                            
                            <a href="./macros/tree_lens.html">
                                <i class="fa fa-check"></i> <b>7.8.</b> Tree Lens
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="8" data-path="References.html">
                
                <a href="./References.html">
                    <i class="fa fa-check"></i> <b>8.</b> References
                </a>
                
                
            </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="page-wrapper" tabindex="-1">
                <div class="book-progress">
    <div class="bar">
        <div class="inner" style="width: 22.22222222222222%;min-width: 19.444444444444443%;"></div>
    </div>
    <div class="chapters">
    
        <a href="./index.html" title="Introduction" class="chapter done new-chapter" data-progress="0" style="left: 0%;"></a>
    
        <a href="./Language.html" title="Language" class="chapter done new-chapter" data-progress="1" style="left: 2.7777777777777777%;"></a>
    
        <a href="./Traits.html" title="Traits" class="chapter done " data-progress="1.1" style="left: 5.555555555555555%;"></a>
    
        <a href="./Partial Function.html" title="Partial Function" class="chapter done " data-progress="1.2" style="left: 8.333333333333334%;"></a>
    
        <a href="./Types.html" title="Types" class="chapter done new-chapter" data-progress="2" style="left: 11.11111111111111%;"></a>
    
        <a href="./Variance.html" title="Variance" class="chapter done " data-progress="2.1" style="left: 13.88888888888889%;"></a>
    
        <a href="./Value Classes.html" title="Value Classes" class="chapter done " data-progress="2.2" style="left: 16.666666666666668%;"></a>
    
        <a href="./F-Bounded Type.html" title="F-Bounded Type" class="chapter done " data-progress="2.3" style="left: 19.444444444444443%;"></a>
    
        <a href="./Type Classes.html" title="Type Classes" class="chapter done " data-progress="2.4" style="left: 22.22222222222222%;"></a>
    
        <a href="./Higher Kind.html" title="Higher Kind" class="chapter  " data-progress="2.5" style="left: 25%;"></a>
    
        <a href="./Path Dependent Types.html" title="Path Dependent Types" class="chapter  " data-progress="2.6" style="left: 27.77777777777778%;"></a>
    
        <a href="./Phantom Type.html" title="Phantom Type" class="chapter  " data-progress="2.7" style="left: 30.555555555555557%;"></a>
    
        <a href="./Structural Types.html" title="Structural Types" class="chapter  " data-progress="2.8" style="left: 33.333333333333336%;"></a>
    
        <a href="./Union and Intersection types.html" title="Union and Intersection types" class="chapter  " data-progress="2.9" style="left: 36.111111111111114%;"></a>
    
        <a href="./Patterns.html" title="Patterns" class="chapter  new-chapter" data-progress="3" style="left: 38.888888888888886%;"></a>
    
        <a href="./Cake.html" title="Cake" class="chapter  " data-progress="3.1" style="left: 41.666666666666664%;"></a>
    
        <a href="./Monads and Monoids.html" title="Monads and Monoids" class="chapter  new-chapter" data-progress="4" style="left: 44.44444444444444%;"></a>
    
        <a href="./Functor.html" title="Functor" class="chapter  " data-progress="4.1" style="left: 47.22222222222222%;"></a>
    
        <a href="./Applicative Functor.html" title="Applicative Functor" class="chapter  " data-progress="4.2" style="left: 50%;"></a>
    
        <a href="./Scalaz.html" title="Scalaz" class="chapter  new-chapter" data-progress="5" style="left: 52.77777777777778%;"></a>
    
        <a href="./Utils.html" title="Utils" class="chapter  " data-progress="5.1" style="left: 55.55555555555556%;"></a>
    
        <a href="./Tag Types.html" title="Tag Types" class="chapter  " data-progress="5.2" style="left: 58.333333333333336%;"></a>
    
        <a href="./Memoization.html" title="Memoization" class="chapter  " data-progress="5.3" style="left: 61.111111111111114%;"></a>
    
        <a href="./Failure.html" title="Failure" class="chapter  new-chapter" data-progress="6" style="left: 63.888888888888886%;"></a>
    
        <a href="./Collections.html" title="Collections" class="chapter  " data-progress="6.1" style="left: 66.66666666666667%;"></a>
    
        <a href="./Object Init.html" title="Object Init" class="chapter  " data-progress="6.2" style="left: 69.44444444444444%;"></a>
    
        <a href="./Implicit.html" title="Implicit" class="chapter  " data-progress="6.3" style="left: 72.22222222222223%;"></a>
    
        <a href="./macros/README.html" title="Macros" class="chapter  new-chapter" data-progress="7" style="left: 75%;"></a>
    
        <a href="./macros/macro_types.html" title="Macro Types" class="chapter  " data-progress="7.1" style="left: 77.77777777777777%;"></a>
    
        <a href="./macros/macro_basics.html" title="Macro Basics" class="chapter  " data-progress="7.2" style="left: 80.55555555555556%;"></a>
    
        <a href="./macros/context.html" title="Context" class="chapter  " data-progress="7.3" style="left: 83.33333333333333%;"></a>
    
        <a href="./macros/fun_with_println.html" title="Fun with println" class="chapter  " data-progress="7.4" style="left: 86.11111111111111%;"></a>
    
        <a href="./macros/scala_version_differences.html" title="Scala Version Differences" class="chapter  " data-progress="7.5" style="left: 88.88888888888889%;"></a>
    
        <a href="./macros/quasiquotes.html" title="Quasiquotes" class="chapter  " data-progress="7.6" style="left: 91.66666666666667%;"></a>
    
        <a href="./macros/trees.html" title="Trees" class="chapter  " data-progress="7.7" style="left: 94.44444444444444%;"></a>
    
        <a href="./macros/tree_lens.html" title="Tree Lens" class="chapter  " data-progress="7.8" style="left: 97.22222222222223%;"></a>
    
        <a href="./References.html" title="References" class="chapter  new-chapter" data-progress="8" style="left: 100%;"></a>
    
    </div>
</div>

                <div class="page-inner">
                
                    <section class="normal" id="section-gitbook_23">
                    
                        <h1 id="type-classes">Type Classes</h1>
<p>Type classes are a functional way to get inheritance like behavior and polymorphism without relying on inheritance.  The core idea for type classes is that you separate the behavior from the class that gets effected by it.  Before going into type classes in scala, lets go over type classes in java.</p>
<pre><code class="lang-java">public interface Comparator&lt;T&gt; {
    int compare(T o1, T o2);
}

public interface Comparable&lt;T&gt; {
    public int compareTo(T o);
}
</code></pre>
<p>Most people will be familiar with <code>Comparator</code> and <code>Comparable</code> if they have dealt with collection sorting and/or <code>TreeMap</code>.  When working with sorting a collection, you tell the sort method how to compare items together and then <code>sort</code> will use that to determine order.</p>
<pre><code class="lang-java">Collections.sort(myArray, oddNumbersFirst)
</code></pre>
<p>This basic idea gives the developer using these apis flexibility with how to reuse them.  In the above example, the array is placing all odd numbers first.</p>
<h2 id="the-scala-way">The Scala Way</h2>
<p>In scala, there is short hand for this kind of behavior; implicits.  Lets go over the example above in a more scala friendly way.</p>
<pre><code class="lang-scala">trait Comparator[T] {
    def compare(t1: T, t2: T): Int
}
// Think of T &lt;: Comparable[T] as weird syntax for "the implementing type"
trait Comparable[T &lt;: Comparable[T]] { self: T =&gt;
    def compareTo(t2: T)(implicit comp: Comparator[T]): Int = comp.compare(self, t2)
}
</code></pre>
<p>The main change between the <code>Comparable</code> here and the java one above is that it relies on <code>Comparator</code> implicitly.  How would this look like to the user?</p>
<pre><code class="lang-scala"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Age</span><span class="hljs-params">(val age: Int)</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Comparable</span>[<span class="hljs-title">Age</span>]</span>
<span class="hljs-class"><span class="hljs-keyword">object</span> <span class="hljs-title">Age</span> {</span>
    <span class="hljs-keyword">def</span> apply(age: Int): Age = <span class="hljs-keyword">new</span> Age(age)

    implicit <span class="hljs-keyword">val</span> naturalAgeComparator: Comparator[Age] = <span class="hljs-keyword">new</span> Comparator[Age] {
        <span class="hljs-keyword">def</span> compare(t1: Age, t2: Age): Int = t1.age - t2.age
    }
}
<span class="hljs-keyword">import</span> Age._
Age(<span class="hljs-number">1</span>) compareTo Age(<span class="hljs-number">2</span>) <span class="hljs-comment">// -1</span>
Age(<span class="hljs-number">1</span>) compareTo Age(<span class="hljs-number">1</span>) <span class="hljs-comment">// 0</span>
<span class="hljs-comment">// Age(1) compareTo 1 // won't compile</span>
</code></pre>
<p>As we see, the user no longer needs to care about providing a <code>Comparator</code> since the compiler will do that for us.  If we want to override and use a different one, we are still free to (unlike the java one).</p>
<pre><code class="lang-scala">Age(<span class="hljs-number">1</span>).compareTo(Age(<span class="hljs-number">2</span>))(Age.naturalAgeComparator) <span class="hljs-comment">// -1</span>
</code></pre>
<h2 id="taking-it-further">Taking It Further</h2>
<p>Now that we see the core idea, can we find more places where they can come in handy?  One easy one is to provide a type safe equals method!</p>
<pre><code class="lang-scala"><span class="hljs-class"><span class="hljs-keyword">trait</span> <span class="hljs-title">Equal</span>[<span class="hljs-title">A</span>] {</span>
    <span class="hljs-keyword">def</span> equal(a1: A, a2: A): Boolean
}

<span class="hljs-comment">// acts like the Comparable trait, but doesn't rely on extending the trait</span>
implicit <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">EqualOpt</span>[<span class="hljs-title">A</span>]<span class="hljs-params">(val self: A)</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AnyVal</span> {</span>
    <span class="hljs-keyword">def</span> ===(a2: A)(implicit eq: Equal[A]): Boolean = eq.equal(self, a2)
    <span class="hljs-keyword">def</span> =/=(a2: A)(implicit eq: Equal[A]): Boolean = !eq.equal(self, a2)
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Foo</span><span class="hljs-params">(val name: String)</span></span>
<span class="hljs-class"><span class="hljs-keyword">object</span> <span class="hljs-title">Foo</span> {</span>
    <span class="hljs-keyword">def</span> apply(name: String): Foo = <span class="hljs-keyword">new</span> Foo(name)
    implicit <span class="hljs-keyword">val</span> naturalEqual: Equal[Foo] = <span class="hljs-keyword">new</span> Equal[Foo] {
        <span class="hljs-keyword">def</span> equal(a1: Foo, a2: Foo): Boolean = a1.name == a2.name
    }
}
<span class="hljs-keyword">import</span> Foo._
Foo(<span class="hljs-string">"hi"</span>) === Foo(<span class="hljs-string">"there"</span>) <span class="hljs-comment">// returns false</span>
Foo(<span class="hljs-string">"hi"</span>) === Foo(<span class="hljs-string">"hi"</span>) <span class="hljs-comment">// returns true</span>
<span class="hljs-comment">// Foo("hi") === "1" // compiler rejects this</span>
</code></pre>
<p>What about serialization to json, protobuf, etc.?</p>
<pre><code class="lang-scala"><span class="hljs-class"><span class="hljs-keyword">trait</span> <span class="hljs-title">Serialize</span>[<span class="hljs-title">T</span>, <span class="hljs-title">O</span>] {</span>
    <span class="hljs-keyword">def</span> serialize(t: T): O
}
implicit <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SerializeOpt</span>[<span class="hljs-title">A</span>]<span class="hljs-params">(val self: A)</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AnyVal</span> {</span>
    <span class="hljs-keyword">def</span> serialize[O](implicit ser: Serialize[A, O]): O = ser.serialize(self)
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Node</span><span class="hljs-params">(val value: String)</span></span>
<span class="hljs-class"><span class="hljs-keyword">object</span> <span class="hljs-title">Node</span> {</span>
    <span class="hljs-keyword">type</span> Json = String
    <span class="hljs-keyword">type</span> Length = Int
    implicit <span class="hljs-keyword">val</span> jsonSer: Serialize[Node, Json] = <span class="hljs-keyword">new</span> Serialize[Node, Json] {
        <span class="hljs-keyword">def</span> serialize(t: Node): Json = s<span class="hljs-string">"{'value': '${t.value}'}"</span>
    }
    implicit <span class="hljs-keyword">val</span> lengthSer: Serialize[Node, Length] = <span class="hljs-keyword">new</span> Serialize[Node, Length] {
        <span class="hljs-keyword">def</span> serialize(t: Node): Length = t.value.length
    }
}
<span class="hljs-keyword">import</span> Node._
<span class="hljs-keyword">new</span> Node(<span class="hljs-string">"hi"</span>).serialize[Json] <span class="hljs-comment">// {'value': 'hi'}</span>
<span class="hljs-keyword">new</span> Node(<span class="hljs-string">"hi"</span>).serialize[Length] <span class="hljs-comment">// 2</span>
</code></pre>

                    
                    </section>
                
                </div>
            </div>
        </div>

        
        <a href="./F-Bounded Type.html" class="navigation navigation-prev"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="./Higher Kind.html" class="navigation navigation-next"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        

        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/ace.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/mode-javascript.js"></script>
        <script src="gitbook/jsrepl/jsrepl.js" id="jsrepl-script"></script>
        <script src="gitbook/app.js"></script>
        

    
    <script src="gitbook/plugins/gitbook-plugin-mixpanel/plugin.js"></script>
    

    
    <script src="http://cdn.mathjax.org/mathjax/2.0-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-mathjax/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {};
    gitbook.start(config);
});
</script>

    </body>
</html>
