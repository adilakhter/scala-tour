<!DOCTYPE HTML>
<html lang="en-US" manifest="./manifest.appcache">
    <head prefix="og: http://ogp.me/ns# book: http://ogp.me/ns/book#">
        
        <meta charset="UTF-8">
        <title>Higher Kind | Scala Tour</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="robots" content="index, follow">
        <meta name="author" content="dcapwell">
        <meta name="description" content="My location for adding scala findings">
        <meta name="keywords" content="gitbook,github" >
        <meta name="generator" content="www.gitbook.io">

        
        <link rel="next" href="./Path Dependent Types.html" />
        
        
        <link rel="prev" href="./Type Classes.html" />
        

        <meta property="og:title" content="Higher Kind | Scala Tour">
        <meta property="og:site_name" content="Scala Tour">
        <meta property="og:type" content="book">
        <meta property="og:locale" content="en_US">

        <meta property="book:author" content="https://github.com/dcapwell">
        <meta property="book:tag" content="GitBook">

        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">

        <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">
        
    </head>
    <body>
        

        <link rel="stylesheet" href="gitbook/style.css">
        


        
    <div class="book" data-github="dcapwell/scala-tour" data-level="2.5" data-basepath="." data-revision="1404966796304">
    <div class="book-header">
    <!-- Actions Left -->
    
    <a href="https://github.com/dcapwell/scala-tour" target="_blank" class="btn pull-left"><i class="fa fa-github-alt"></i></a>
    
    <a href="#" class="btn pull-left toggle-summary"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search"><i class="fa fa-search"></i></a>
    <span id="font-settings-wrapper">
        <a href="#" class="btn pull-left toggle-font-settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
	<div class="dropdown-caret">
  <span class="caret-outer"></span>
  <span class="caret-inner"></span>
</div>

	<div class="btn-group btn-block">
		<button id="reduce-font-size" class="btn btn-default">A</button>
		<button id="enlarge-font-size" class="btn btn-default">A</button>
	</div>

	<ul class="list-group font-family-list">
		<li class="list-group-item" data-font="0">Serif</li>
		<li class="list-group-item" data-font="1">Sans</li>
	</ul>

	<div class="btn-group btn-group-xs btn-block color-theme-list">
	  <button type="button" class="btn btn-default" id="color-theme-preview-0" data-theme="0">White</button>
	  <button type="button" class="btn btn-default" id="color-theme-preview-1" data-theme="1">Sepia</button>
	  <button type="button" class="btn btn-default" id="color-theme-preview-2" data-theme="2">Night</button>
	</div>
</div>

    </span>

    <!-- Actions Right -->
    <a href="#" target="_blank" class="btn pull-right" data-sharing="google-plus"><i class="fa fa-google-plus"></i></a>
    <a href="#" target="_blank" class="btn pull-right" data-sharing="facebook"><i class="fa fa-facebook"></i></a>
    <a href="#" target="_blank" class="btn pull-right" data-sharing="twitter"><i class="fa fa-twitter"></i></a>

    
    <a href="https://github.com/dcapwell/scala-tour/stargazers" target="_blank" class="btn pull-right count-star"><i class="fa fa-star-o"></i> Star (<span>-</span>)</a>
    <a href="https://github.com/dcapwell/scala-tour/watchers" target="_blank" class="btn pull-right count-watch"><i class="fa fa-eye"></i> Watch (<span>-</span>)</a>
    

    <!-- Title -->
    <h1>
        <i class="fa fa-spinner fa-spin"></i>
        <a href="./" >Scala Tour</a>
    </h1>
</div>

    <div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Search" class="form-control" />
    </div>
    <ul class="summary">
        
        <li>
            <a href="https://github.com/dcapwell" target="blank">About the author</a>
        </li>
        <li>
            <a href="https://github.com/dcapwell/scala-tour/issues" target="blank">Questions and Issues</a>
        </li>
        <li>
            <a href="https://github.com/dcapwell/scala-tour/edit/master/Higher Kind.md" target="blank">Edit and Contribute</a>
        </li>
        <li class="divider"></li>
        
        <li data-level="0" data-path="index.html">
            <a href="./"><i class="fa fa-check"></i> Introduction</a>
        </li>
        
            <li  data-level="1" data-path="Language.html">
                
                <a href="./Language.html">
                    <i class="fa fa-check"></i> <b>1.</b> Language
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="1.1" data-path="Traits.html">
                            
                            <a href="./Traits.html">
                                <i class="fa fa-check"></i> <b>1.1.</b> Traits
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.2" data-path="Partial Function.html">
                            
                            <a href="./Partial Function.html">
                                <i class="fa fa-check"></i> <b>1.2.</b> Partial Function
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="2" data-path="Types.html">
                
                <a href="./Types.html">
                    <i class="fa fa-check"></i> <b>2.</b> Types
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="2.1" data-path="Variance.html">
                            
                            <a href="./Variance.html">
                                <i class="fa fa-check"></i> <b>2.1.</b> Variance
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.2" data-path="Value Classes.html">
                            
                            <a href="./Value Classes.html">
                                <i class="fa fa-check"></i> <b>2.2.</b> Value Classes
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.3" data-path="F-Bounded Type.html">
                            
                            <a href="./F-Bounded Type.html">
                                <i class="fa fa-check"></i> <b>2.3.</b> F-Bounded Type
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.4" data-path="Type Classes.html">
                            
                            <a href="./Type Classes.html">
                                <i class="fa fa-check"></i> <b>2.4.</b> Type Classes
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.5" data-path="Higher Kind.html">
                            
                            <a href="./Higher Kind.html">
                                <i class="fa fa-check"></i> <b>2.5.</b> Higher Kind
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.6" data-path="Path Dependent Types.html">
                            
                            <a href="./Path Dependent Types.html">
                                <i class="fa fa-check"></i> <b>2.6.</b> Path Dependent Types
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.7" data-path="Phantom Type.html">
                            
                            <a href="./Phantom Type.html">
                                <i class="fa fa-check"></i> <b>2.7.</b> Phantom Type
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.8" data-path="Structural Types.html">
                            
                            <a href="./Structural Types.html">
                                <i class="fa fa-check"></i> <b>2.8.</b> Structural Types
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.9" data-path="Union and Intersection types.html">
                            
                            <a href="./Union and Intersection types.html">
                                <i class="fa fa-check"></i> <b>2.9.</b> Union and Intersection types
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="3" data-path="Patterns.html">
                
                <a href="./Patterns.html">
                    <i class="fa fa-check"></i> <b>3.</b> Patterns
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="3.1" data-path="Cake.html">
                            
                            <a href="./Cake.html">
                                <i class="fa fa-check"></i> <b>3.1.</b> Cake
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="4" data-path="Monads and Monoids.html">
                
                <a href="./Monads and Monoids.html">
                    <i class="fa fa-check"></i> <b>4.</b> Monads and Monoids
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="4.1" data-path="Functor.html">
                            
                            <a href="./Functor.html">
                                <i class="fa fa-check"></i> <b>4.1.</b> Functor
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.2" data-path="Applicative Functor.html">
                            
                            <a href="./Applicative Functor.html">
                                <i class="fa fa-check"></i> <b>4.2.</b> Applicative Functor
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="5" data-path="Scalaz.html">
                
                <a href="./Scalaz.html">
                    <i class="fa fa-check"></i> <b>5.</b> Scalaz
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="5.1" data-path="Utils.html">
                            
                            <a href="./Utils.html">
                                <i class="fa fa-check"></i> <b>5.1.</b> Utils
                            </a>
                            
                        </li>
                    
                        <li  data-level="5.2" data-path="Tag Types.html">
                            
                            <a href="./Tag Types.html">
                                <i class="fa fa-check"></i> <b>5.2.</b> Tag Types
                            </a>
                            
                        </li>
                    
                        <li  data-level="5.3" data-path="Memoization.html">
                            
                            <a href="./Memoization.html">
                                <i class="fa fa-check"></i> <b>5.3.</b> Memoization
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="6" data-path="Failure.html">
                
                <a href="./Failure.html">
                    <i class="fa fa-check"></i> <b>6.</b> Failure
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="6.1" data-path="Collections.html">
                            
                            <a href="./Collections.html">
                                <i class="fa fa-check"></i> <b>6.1.</b> Collections
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.2" data-path="Object Init.html">
                            
                            <a href="./Object Init.html">
                                <i class="fa fa-check"></i> <b>6.2.</b> Object Init
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.3" data-path="Implicit.html">
                            
                            <a href="./Implicit.html">
                                <i class="fa fa-check"></i> <b>6.3.</b> Implicit
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="7" data-path="macros/README.html">
                
                <a href="./macros/README.html">
                    <i class="fa fa-check"></i> <b>7.</b> Macros
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="7.1" data-path="macros/macro_types.html">
                            
                            <a href="./macros/macro_types.html">
                                <i class="fa fa-check"></i> <b>7.1.</b> Macro Types
                            </a>
                            
                        </li>
                    
                        <li  data-level="7.2" data-path="macros/macro_basics.html">
                            
                            <a href="./macros/macro_basics.html">
                                <i class="fa fa-check"></i> <b>7.2.</b> Macro Basics
                            </a>
                            
                        </li>
                    
                        <li  data-level="7.3" data-path="macros/context.html">
                            
                            <a href="./macros/context.html">
                                <i class="fa fa-check"></i> <b>7.3.</b> Context
                            </a>
                            
                        </li>
                    
                        <li  data-level="7.4" data-path="macros/fun_with_println.html">
                            
                            <a href="./macros/fun_with_println.html">
                                <i class="fa fa-check"></i> <b>7.4.</b> Fun with println
                            </a>
                            
                        </li>
                    
                        <li  data-level="7.5" data-path="macros/scala_version_differences.html">
                            
                            <a href="./macros/scala_version_differences.html">
                                <i class="fa fa-check"></i> <b>7.5.</b> Scala Version Differences
                            </a>
                            
                        </li>
                    
                        <li  data-level="7.6" data-path="macros/quasiquotes.html">
                            
                            <a href="./macros/quasiquotes.html">
                                <i class="fa fa-check"></i> <b>7.6.</b> Quasiquotes
                            </a>
                            
                        </li>
                    
                        <li  data-level="7.7" data-path="macros/trees.html">
                            
                            <a href="./macros/trees.html">
                                <i class="fa fa-check"></i> <b>7.7.</b> Trees
                            </a>
                            
                        </li>
                    
                        <li  data-level="7.8" data-path="macros/tree_lens.html">
                            
                            <a href="./macros/tree_lens.html">
                                <i class="fa fa-check"></i> <b>7.8.</b> Tree Lens
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="8" data-path="References.html">
                
                <a href="./References.html">
                    <i class="fa fa-check"></i> <b>8.</b> References
                </a>
                
                
            </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="page-wrapper" tabindex="-1">
                <div class="book-progress">
    <div class="bar">
        <div class="inner" style="width: 25%;min-width: 22.22222222222222%;"></div>
    </div>
    <div class="chapters">
    
        <a href="./index.html" title="Introduction" class="chapter done new-chapter" data-progress="0" style="left: 0%;"></a>
    
        <a href="./Language.html" title="Language" class="chapter done new-chapter" data-progress="1" style="left: 2.7777777777777777%;"></a>
    
        <a href="./Traits.html" title="Traits" class="chapter done " data-progress="1.1" style="left: 5.555555555555555%;"></a>
    
        <a href="./Partial Function.html" title="Partial Function" class="chapter done " data-progress="1.2" style="left: 8.333333333333334%;"></a>
    
        <a href="./Types.html" title="Types" class="chapter done new-chapter" data-progress="2" style="left: 11.11111111111111%;"></a>
    
        <a href="./Variance.html" title="Variance" class="chapter done " data-progress="2.1" style="left: 13.88888888888889%;"></a>
    
        <a href="./Value Classes.html" title="Value Classes" class="chapter done " data-progress="2.2" style="left: 16.666666666666668%;"></a>
    
        <a href="./F-Bounded Type.html" title="F-Bounded Type" class="chapter done " data-progress="2.3" style="left: 19.444444444444443%;"></a>
    
        <a href="./Type Classes.html" title="Type Classes" class="chapter done " data-progress="2.4" style="left: 22.22222222222222%;"></a>
    
        <a href="./Higher Kind.html" title="Higher Kind" class="chapter done " data-progress="2.5" style="left: 25%;"></a>
    
        <a href="./Path Dependent Types.html" title="Path Dependent Types" class="chapter  " data-progress="2.6" style="left: 27.77777777777778%;"></a>
    
        <a href="./Phantom Type.html" title="Phantom Type" class="chapter  " data-progress="2.7" style="left: 30.555555555555557%;"></a>
    
        <a href="./Structural Types.html" title="Structural Types" class="chapter  " data-progress="2.8" style="left: 33.333333333333336%;"></a>
    
        <a href="./Union and Intersection types.html" title="Union and Intersection types" class="chapter  " data-progress="2.9" style="left: 36.111111111111114%;"></a>
    
        <a href="./Patterns.html" title="Patterns" class="chapter  new-chapter" data-progress="3" style="left: 38.888888888888886%;"></a>
    
        <a href="./Cake.html" title="Cake" class="chapter  " data-progress="3.1" style="left: 41.666666666666664%;"></a>
    
        <a href="./Monads and Monoids.html" title="Monads and Monoids" class="chapter  new-chapter" data-progress="4" style="left: 44.44444444444444%;"></a>
    
        <a href="./Functor.html" title="Functor" class="chapter  " data-progress="4.1" style="left: 47.22222222222222%;"></a>
    
        <a href="./Applicative Functor.html" title="Applicative Functor" class="chapter  " data-progress="4.2" style="left: 50%;"></a>
    
        <a href="./Scalaz.html" title="Scalaz" class="chapter  new-chapter" data-progress="5" style="left: 52.77777777777778%;"></a>
    
        <a href="./Utils.html" title="Utils" class="chapter  " data-progress="5.1" style="left: 55.55555555555556%;"></a>
    
        <a href="./Tag Types.html" title="Tag Types" class="chapter  " data-progress="5.2" style="left: 58.333333333333336%;"></a>
    
        <a href="./Memoization.html" title="Memoization" class="chapter  " data-progress="5.3" style="left: 61.111111111111114%;"></a>
    
        <a href="./Failure.html" title="Failure" class="chapter  new-chapter" data-progress="6" style="left: 63.888888888888886%;"></a>
    
        <a href="./Collections.html" title="Collections" class="chapter  " data-progress="6.1" style="left: 66.66666666666667%;"></a>
    
        <a href="./Object Init.html" title="Object Init" class="chapter  " data-progress="6.2" style="left: 69.44444444444444%;"></a>
    
        <a href="./Implicit.html" title="Implicit" class="chapter  " data-progress="6.3" style="left: 72.22222222222223%;"></a>
    
        <a href="./macros/README.html" title="Macros" class="chapter  new-chapter" data-progress="7" style="left: 75%;"></a>
    
        <a href="./macros/macro_types.html" title="Macro Types" class="chapter  " data-progress="7.1" style="left: 77.77777777777777%;"></a>
    
        <a href="./macros/macro_basics.html" title="Macro Basics" class="chapter  " data-progress="7.2" style="left: 80.55555555555556%;"></a>
    
        <a href="./macros/context.html" title="Context" class="chapter  " data-progress="7.3" style="left: 83.33333333333333%;"></a>
    
        <a href="./macros/fun_with_println.html" title="Fun with println" class="chapter  " data-progress="7.4" style="left: 86.11111111111111%;"></a>
    
        <a href="./macros/scala_version_differences.html" title="Scala Version Differences" class="chapter  " data-progress="7.5" style="left: 88.88888888888889%;"></a>
    
        <a href="./macros/quasiquotes.html" title="Quasiquotes" class="chapter  " data-progress="7.6" style="left: 91.66666666666667%;"></a>
    
        <a href="./macros/trees.html" title="Trees" class="chapter  " data-progress="7.7" style="left: 94.44444444444444%;"></a>
    
        <a href="./macros/tree_lens.html" title="Tree Lens" class="chapter  " data-progress="7.8" style="left: 97.22222222222223%;"></a>
    
        <a href="./References.html" title="References" class="chapter  new-chapter" data-progress="8" style="left: 100%;"></a>
    
    </div>
</div>

                <div class="page-inner">
                
                    <section class="normal" id="section-gitbook_7">
                    
                        <h1 id="higher-kind">Higher Kind</h1>
<p>A higher kind is the type of a type constructor.  So what does that mean?  Lets look at a basic generic trait.</p>
<pre><code class="lang-scala">scala&gt; <span class="hljs-class"><span class="hljs-keyword">trait</span> <span class="hljs-title">MyList</span>[<span class="hljs-title">A</span>] {</span>
  <span class="hljs-keyword">def</span> head: A
  <span class="hljs-keyword">def</span> tail: MyList[A]
}

scala&gt; kind[MyList[String]
MyList<span class="hljs-string">'s kind is * -&gt; *. This is a type constructor: a 1st-order-kinded type.</span>
</code></pre>
<p>The <code>MyList[String]</code> type is a 1st-order kinded type; the type of any <code>MyList</code> is parameterized by <code>A</code>.  Think of <code>MyList</code> as a function for types as <code>A =&gt; MyList[A]</code> so given a type <code>A</code> we can created a new type <code>MyList[A]</code>.  So if <code>MyList</code> is a 1st-order kinded type, then what is a higher kind?  Well, what is a higher order function?  Its a function that accepts another function.  So what is a higher kinded type?  Its a type that is parameterized by another type that is parameterized.  Lets look at a simple example of this.</p>
<pre><code class="lang-scala">scala&gt; <span class="hljs-class"><span class="hljs-keyword">trait</span> <span class="hljs-title">Foo</span>[<span class="hljs-title">A</span>[<span class="hljs-title">_</span>]]</span>
scala&gt; kind[Foo[List]]
Foo<span class="hljs-string">'s kind is (* -&gt; *) -&gt; *. This is a type constructor that takes type constructor(s): a higher-kinded type.</span>
</code></pre>
<p>To make this more clear, lets create a trait <code>Folable</code> that will add the ability to <code>leftFold</code>.</p>
<pre><code class="lang-scala"><span class="hljs-class"><span class="hljs-keyword">trait</span> <span class="hljs-title">Foldable</span>[<span class="hljs-title">F</span>[<span class="hljs-title">_</span>]] {</span>
    <span class="hljs-keyword">def</span> leftFold[A, B](ob: F[A])(zero: B)(fn: (B, A) =&gt; B): B
}
</code></pre>
<p>Now lets tie this to <code>List</code></p>
<pre><code class="lang-scala">implicit <span class="hljs-keyword">val</span> listFolable: Foldable[List] = <span class="hljs-keyword">new</span> Foldable[List] {
    <span class="hljs-keyword">def</span> leftFold[A, B](ob: List[A])(zero: B)(fn: (B, A) =&gt; B): B =
        ob.foldLeft(zero)(fn)
}
</code></pre>
<p>We define a <code>Foldable</code> that works for any <code>List</code> instance.  The <code>leftFold</code> method will take an <code>A</code> and use the <code>A</code> to construct the <code>List[A]</code>.  Now lets &quot;pimp&quot; <code>List</code> to have a nicer shorthand.</p>
<pre><code class="lang-scala"><span class="hljs-keyword">import</span> scala.language.implicitConversions
implicit <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ListFoldableOpt</span>[<span class="hljs-title">A</span>]<span class="hljs-params">(list: List[A])</span><span class="hljs-params">(implicit fold: Foldable[List])</span> {</span>
    <span class="hljs-keyword">def</span> leftFold[B](zero: B)(fn: (B, A) =&gt; B): B =
        fold.leftFold(list)(zero)(fn)
}

List(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>).leftFold(<span class="hljs-number">0</span>)(_ + _) <span class="hljs-comment">// 6</span>
</code></pre>
<p>Given a <code>List[A]</code> and a <code>Foldable[List]</code>, we can now add a <code>leftFold</code> method to <code>List[A]</code>.  This example is a common example of where higher-kinded types are normally used; type classes over generic types.</p>
<h2 id="hackery">Hackery</h2>
<p>Scala supports higher kinded types, but the support is not on-par with what you would hope for.  Lets say you have the following type</p>
<pre><code class="lang-scala"><span class="hljs-class"><span class="hljs-keyword">trait</span> <span class="hljs-title">Foo</span>[<span class="hljs-title">A</span>, <span class="hljs-title">B</span>]</span>
</code></pre>
<p>And now lets say we have a function that takes a higher type, but only with one type param.</p>
<pre><code class="lang-scala"><span class="hljs-keyword">def</span> map[F[_], A, B](f: F[A])(fn: A =&gt; B): F[B] = ???
</code></pre>
<p>Lets try to call it with <code>Foo</code></p>
<pre><code class="lang-scala">scala&gt; map(<span class="hljs-keyword">new</span> Foo[Int, Int]{})(x =&gt; x)
error: <span class="hljs-keyword">type</span> mismatch;
 found   : Foo[Int,Int]
 required: ?F
Note that implicit conversions are not applicable because they are ambiguous:
 both method any2Ensuring in <span class="hljs-class"><span class="hljs-keyword">object</span> <span class="hljs-title">Predef</span> <span class="hljs-title">of</span> <span class="hljs-title">type</span> [<span class="hljs-title">A</span>]<span class="hljs-params">(x: A)</span><span class="hljs-title">Ensuring</span>[<span class="hljs-title">A</span>]</span>
 and method any2ArrowAssoc in <span class="hljs-class"><span class="hljs-keyword">object</span> <span class="hljs-title">Predef</span> <span class="hljs-title">of</span> <span class="hljs-title">type</span> [<span class="hljs-title">A</span>]<span class="hljs-params">(x: A)</span><span class="hljs-title">ArrowAssoc</span>[<span class="hljs-title">A</span>]</span>
 are possible conversion functions from Foo[Int,Int] to ?F
</code></pre>
<p>That is a very weird error, and not the one you will always see.  What this is saying is that its trying to verify that the types match, but not able to.  The reason for this is the higher kind that its looking for doesn&#39;t match what we are passing in: looking for <code>Foo[Int]</code> but passed in <code>Foo[Int, Int]</code>.</p>
<p>There is a way to get the types to match, but it looks a bit scary at first...</p>
<pre><code class="lang-scala">scala&gt; map[({<span class="hljs-keyword">type</span> F[X] = Foo[Int, X]})#F, Int, Int](<span class="hljs-keyword">new</span> Foo[Int, Int]{})(x =&gt; x)
scala.NotImplementedError: an implementation is missing <span class="hljs-comment">// expected, impl was ???</span>
</code></pre>
<p>So what the heck is <code>({type F[X] = Foo[Int, X]})#F</code>?  Lets break it up, but lets first look at a simpler thing; a type within a trait.</p>
<pre><code class="lang-scala"><span class="hljs-class"><span class="hljs-keyword">trait</span> <span class="hljs-title">Machine</span> {</span>
    <span class="hljs-keyword">type</span> Hostname = String

    <span class="hljs-keyword">def</span> hostname: Hostname = <span class="hljs-string">"localhost"</span>
}
</code></pre>
<p>As we see with the above, the syntax for defining a type alias is <code>type Hostname = String</code>, so when you look at the scary type thing above, you will see that there as well: <code>type F[X] = Foo[Int, X]</code>.  The only real difference there is that the type alias supports params.</p>
<p>So to finish this off, the <code>({...})#F</code> is saying that scala should extract the type <code>F</code> from the <code>{...}</code> block inside.  And since <code>F</code> is of type <code>F[X]</code>, it will fit within the method!</p>
<p>TL;DR</p>
<p>When you are working with higher-kinded types and the number of types don&#39;t match, you can hack around it by creating a type alias inside a block, and extract it out with <code>(...)#TypeName</code>.</p>

                    
                    </section>
                
                </div>
            </div>
        </div>

        
        <a href="./Type Classes.html" class="navigation navigation-prev"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="./Path Dependent Types.html" class="navigation navigation-next"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        

        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/ace.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/mode-javascript.js"></script>
        <script src="gitbook/jsrepl/jsrepl.js" id="jsrepl-script"></script>
        <script src="gitbook/app.js"></script>
        

    
    <script src="gitbook/plugins/gitbook-plugin-mixpanel/plugin.js"></script>
    

    
    <script src="http://cdn.mathjax.org/mathjax/2.0-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-mathjax/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {};
    gitbook.start(config);
});
</script>

    </body>
</html>
